
if [[ `uname` == 'Linux' ]]
then
        export LINUX=1
        export GNU_USERLAND=1
else
        export LINUX=
fi

if [[ `uname` == 'Darwin' ]]
then
        export OSX=1
else
        export OSX=
fi

# Detect Homebrew or Macports GNU userland installation
if [[ "$OSX" == "1" ]]
then
    if _is_command brew
    then
        export GNU_COREUTILS_DIR="$(brew --prefix coreutils)/libexec/gnubin"
        export GNU_USERLAND=1
    elif [[ -e /opt/local/libexec/gnubin ]]
    then
        export GNU_USERLAND=1
        export GNU_COREUTILS_DIR=/opt/local/bin
    fi
fi

# We need to do this early, as following rc scripts depend on this
if [[ $GNU_COREUTILS_DIR != '' ]]
then
    prepend_to_path $GNU_COREUTILS_DIR
fi
